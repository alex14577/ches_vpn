{% extends "base.html" %}
{% block content %}
<h1>Change admin password</h1>

{% if request.query_params.get("ok") %}
  <p class="ok">✅ Password updated</p>
{% endif %}

{% set err = request.query_params.get("err") %}
{% if err == "bad_current" %}
  <p class="err">❌ Current username/password is wrong</p>
{% elif err == "mismatch" %}
  <p class="err">❌ New passwords do not match</p>
{% elif err == "weak" %}
  <p class="err">❌ Username empty or password too short</p>
{% endif %}

<section class="card">
  <form method="post" action="/admin/password" class="grid">
    <label>Current username
      <input name="current_username" required />
    </label>

    <label>Current password
      <input type="password" name="current_password" required />
    </label>

    <hr />

    <label>New username
      <input name="new_username" required />
    </label>

    <label>New password
      <input type="password" name="new_password" required />
    </label>

    <label>Repeat new password
      <input type="password" name="new_password2" required />
    </label>

    <button type="submit">Save</button>
  </form>
</section>
{% endblock %}